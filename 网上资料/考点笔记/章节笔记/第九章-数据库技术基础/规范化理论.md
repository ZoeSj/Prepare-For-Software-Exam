### **关系模式的函数依赖★★★**
  + **函数依赖：**
    > 设R（U）是属性集上的关系模式，X,Y是U的子集。<br>若对于R(U)的任意一个可能的关系r，r中不能存在两个元组在X上的属性值星等，而在Y上的属性值不等，即是说这里X可以唯一确定Y，则称，X函数确定Y或Y函数依赖于X，记作X→Y。 
    + **完全函数依赖**：在R(U)中，如果X→Y，并且对于X的任何一个真子集X'，都有X'→Y不成立，记作 X→<sup>f</sup>Y(f为箭头的上标)
    + **部分函数依赖**：若X→Y，但Y不完全依赖于X，则称Y对X部分函数依赖。X→<sup>p</sup>Y 
    + **传递函数依赖**：在R(U)中，如果X→Y(Y不真含于X，也即X不真包含Y)，Y→X不成立，Y→Z，Z不真含于Y，则称Z于X传递函数依赖。记作，X→<sup>传递</sup>Z 
  + [**最小函数依赖集和冗余函数依赖判断★★★**](https://www.cnblogs.com/xiaolu266/p/8041073.html)
 ### [数据库范式](https://www.bilibili.com/video/av17299750?from=search&seid=17279813189888908395)
  + 第一范式1NF★★★
  + 第二范式2NF★★★
  + 第三范式3NF★★★
  + BC范式BCNF
  + 第四范式4NF
  + 第五范式5NF
### **候选码的确定方式(题型)★★★**
  + **思路**：
    + 将所有依赖关系画成图<br>
    + 找到只有出度没有入度的结点<br>
    + 判断该结点出发能否走完全图(能走完即为一个候选码，不能走完即可能不能单独作为候选码)<br>
    + 如果存在多个只有出度没有入度的结点(A,B,C)，且都能从该节点走完全图，则这些结点都为候选码(记作：A和B和C为候选码)<br>
    + 候选码的定义为一个属性或者一组属性能够唯一确定一个元组，所以如果存在多个结点(A,B,C)的组合能够保证走完全图，则这个结点组合为一个候选码(记作：ABC)<br>
    6.如果存在出入度都有的结点，且能从该节点走完全部图，则该节点也为候选码<br>
  + **注意问题**：<br>
    1.AB→C指的是A，B一起才能推导出C，C部分函数依赖于AB(假设AB这个属性组为一个候选码，参照部分函数依赖可以得出)<br>
    2.A→C,B→C有向图的画法为：<br>
    ![9-20](https://raw.githubusercontent.com/flysafely/Software-Design-Engineer-Note/master/%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E7%A4%BA/9-20.png)<br>
    3.AB→C有向图的画法为：<br>
    ![9-21](https://raw.githubusercontent.com/flysafely/Software-Design-Engineer-Note/master/%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E7%A4%BA/9-21.jpg)<br>
### **模式分解(题型)★★★**
  + **保持函数依赖**<br>
    > 无损分解：将一个关系模式分解成若干个关系模式后，通过自然联接和投影等运算仍能还原到原来的关系模式<br>
    设数据库模式M={R<sub>1</sub>,R<sub>2</sub>,...,R<sub>k</sub>}是关系模式R的一个分解，F是R上的函数依赖集，M中的每一个模式R<sub>i</sub>上的函数依赖集是F<sub>i</sub>.如果{F<sub>1</sub>,F<sub>2</sub>,...,F<sub>k</sub>}与F是等价的(即互相逻辑蕴含)，那么称分解M保持F函数依赖
  + **未保持函数依赖**<br>
    > 有损分解：不能还原
  + [**无损连接分解**](https://www.jianshu.com/p/0631190bb581)
  + **解题方法**：
    + **表格法**
      + 例题：关系模式：**R<sub>成绩</sub>（学号，姓名，课程号，课程名，分数）**<br>
             函数依赖：**学号→姓名，课程号→课程名，（学号，课程号）→分数**<br>
             分解为以下关系模式：<br>
                 **R<sub>成绩</sub>（学号，课程号，分数）**<br>
                 **R<sub>学生</sub>（学号，姓名）**<br>
                 **R<sub>课程</sub>（课程号，课程名）**<br>
             判断是否为无损分解<br>
      + 解题思路：<br>
        + 首先画出分解后的各个关系模式图
        
        ||学号|姓名|课程号|课程名|分数|
        |:--:|:--:|:--:|:--:|:--:|:--:|
        |成绩|√|×|√|×|√|
        |学生|√|√|×|×|×|
        |课程|×|×|√|√|×|
        
        + R<sub>学生</sub>中有(学号→姓名)，所以R<sub>成绩</sub>和R<sub>学生</sub>合并后也有(学号→姓名)
        
        ||学号|姓名|课程号|课程名|分数|
        |:--:|:--:|:--:|:--:|:--:|:--:|
        |成绩|√|√|√|×|√|
        |学生|√|√|×|×|×|
        |课程|×|×|√|√|×|
        
        + R<sub>课程</sub>中有(课程号→课程名)，所以R<sub>成绩</sub>和R<sub>课程</sub>合并中也有(课程号→课程名)
        
        ||学号|姓名|课程号|课程名|分数|
        |:--:|:--:|:--:|:--:|:--:|:--:|
        |成绩|√|√|√|√|√|
        |学生|√|√|×|×|×|
        |课程|×|×|√|√|×|
        + 所以为无损分解
    + **关系模式交集法**
      > 适用于**一个关系模式**分为**两个关系模式**
      + **公式法定理:**<br>
        如果R的分解为M={R<sub>1</sub>,R<sub>2</sub>},F为R的函数依赖集合，分解M具有无损联接性的充分必要条件是：<br>
        **R<sub>1</sub>∩R<sub>2</sub>→(R<sub>1</sub>-R<sub>2</sub>)<br>**
        或<br>
        **R<sub>1</sub>∩R<sub>2</sub>→(R<sub>2</sub>-R<sub>1</sub>)<br>**
      + **例题：**<br>
        设R=ABC，F={A→B}，则分解M={R<sub>1</sub>(AB)，R<sub>2</sub>(AC)}与N={R<sub>1</sub>(AB)，R<sub>2</sub>(BC)}是否为无损分解？
        > 1、M分解模式中R<sub>1</sub>∩R<sub>2</sub> = A<br>
          2、M分解模式中R<sub>1</sub>-R<sub>2</sub>=B<br>
          3、因为R<sub>1</sub>∩R<sub>2</sub>→R<sub>1</sub>-R<sub>2</sub>为A→B，跟F一致，所以分解M为无损分解<br>
          4、N分解模式中R<sub>1</sub>∩R<sub>2</sub> = B<br>
          5、N分解模式中R<sub>1</sub>-R<sub>2</sub>=A<br>
          6、因为R<sub>1</sub>∩R<sub>2</sub>→R<sub>1</sub>-R<sub>2</sub>为B→A，跟F不一致，所以分解N为有损分解<br>
