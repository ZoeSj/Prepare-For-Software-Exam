### 事务管理
  + 事务和程序
    > 一个程序可以包含多个事务
    + 事务定义语句
      + 事务开始
        > BEGIN TRANSACTION
      + 事务回滚
        > ROLLBACK
      + 事务提交
        > COMMIT
  + 事务的特性
    + 原子性
      > 要么都做，要么都不做
    + 一致性
      > 保证数据库从一个一致性的状态变到另外一个一致性的状态
    + 隔离性
      > 事务的更新操作在其提交前对于其他事务都是不可见的
    + 持久性
      > 一点事务提交成，其对数据库的更新操作也将永久有效
### 备份与恢复
  + 故障类型
    + 事务内部故障
    + 系统故障
    + 介质故障
    + 计算机病毒
  + 备份方法
    + 静态存储和动态存储
    + 海量转存和增量转存
    + 日志文件
### **并发控制★★★**
  > 数据访问可以不上锁，上了X锁别的就完全无法操作(读写都不行)，上了S锁就是可以读
  + 共享锁【S锁】
    > 又称读锁，若事务T对数据对象A加上S锁，则事务T可以读A但不能修改A，其他事务只能再对A加S锁，而不能加X锁，直到T释放A上的S锁。这保证了其他事务可以读A，但在T释放A上的S锁之前不能对A做任何修改。

  + 排他锁【X锁】
    > 又称写锁。若事务T对数据对象A加上X锁，事务T可以读A也可以修改A，其他事务不能再对A加任何锁，直到T释放A上的锁。这保证了其他事务在T释放A上的锁之前不能再读取和修改A。
  + 操作问题
    + 丢失修改
    + 不可重复读
    + 读脏数据
    
    ![9-23](https://raw.githubusercontent.com/flysafely/Software-Design-Engineer-Note/master/%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/%E6%9C%AC%E7%AB%A0%E5%9B%BE%E7%A4%BA/9-23.jpg)
  + 解决操作问题
    + **一级封锁协议：解决`丢失修改`**
    + **二级封锁协议：解决`不可重复读`**
    + **三级封锁协议：解决`读脏数据`**
